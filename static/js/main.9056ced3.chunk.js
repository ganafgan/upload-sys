(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(28),r=a.n(l),o=a(2),s=a(3),m=a(4),i=a(5),u=a(10),d=a.n(u),p=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).onBtnAdd=function(){var t=e.refs.name.value,a=Number(e.refs.price.value),n=e.refs.images.files,c={name:t,price:a};if(console.log(n),c=JSON.stringify(c),t&&a&&n){for(var l=new FormData,r=0;r<n.length;r++)l.append("product-image",n[r]);l.append("data",c),console.log(l),d.a.post("https://upload-system-api.herokuapp.com/product",l).then((function(t){console.log(t.data),alert("Added success"),e.refs.name.value="",e.refs.price.value=""})).catch((function(e){console.log(e)}))}else alert("error")},e}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-4 card mt-5"},c.a.createElement("h3",{className:"mx-auto mt-3"},"Post Product"),c.a.createElement("div",{className:"card-body p-3"},c.a.createElement("input",{className:"form-control",type:"text",ref:"name",placeholder:"product name"}),c.a.createElement("input",{className:"form-control mt-3",type:"number",ref:"price",placeholder:"product price"}),c.a.createElement("input",{className:"form-control mt-3",type:"file",ref:"images",accept:"image/*",multiple:"multiple"}),c.a.createElement("input",{onClick:this.onBtnAdd,className:"btn btn-success mt-3",type:"button",value:"ADD"})))))}}]),a}(c.a.Component),h=a(12),g=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={dataProduct:null,selectedProduct:null,selectedImage:null},e.getDataProduct=function(){var t=window.location.pathname.split("/")[2];d.a.get("https://upload-system-api.herokuapp.com/product/"+t).then((function(t){console.log(t.data.data),e.setState({dataProduct:t.data.data,selectedProduct:t.data.data[0]})})).catch((function(e){console.log(e)}))},e.onSaveBtn=function(){console.log(e.state.selectedProduct);var t=e.refs.editImage.files[0],a=e.state.selectedProduct.image_id,n=e.state.selectedProduct.image_url,c=new FormData;c.append("editImage",t),c.append("path",n),d.a.patch("https://upload-system-api.herokuapp.com/product/image/"+a,c).then((function(t){!1===t.dataProduct.error&&(alert(t.dataProduct.message),e.setState({selectedImage:null}),e.getDataProduct())})).catch((function(e){console.log(e)}))},e.onChangeInputImage=function(){var t=e.refs.editImage.files[0];e.setState({selectedImage:t.name})},e.renderListImage=function(){var t=e.state.dataProduct;return(t=t.filter((function(t){return t.image_id!==e.state.selectedProduct.image_id}))).map((function(t){return c.a.createElement("div",{className:"col-md-3"},c.a.createElement("div",{className:"card p-2",style:{maxWidth:"190px"}},c.a.createElement("img",{src:"https://upload-system-api.herokuapp.com/"+t.image_url,onClick:function(){return e.setState({selectedProduct:t})},style:{height:"170px",width:"170px"}})))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDataProduct()}},{key:"render",value:function(){var e=this;return null===this.state.dataProduct?c.a.createElement("h1",null,"Loading..."):0===this.state.dataProduct.length?c.a.createElement("h1",null,"Data Kosong ..."):c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("h3",{className:"mx-auto mt-5"},"Product Detail")),c.a.createElement("div",{className:"row"},c.a.createElement("h4",{className:"mx-auto mt-5"},this.state.dataProduct[0].name)),c.a.createElement("div",{className:"row"},c.a.createElement("h4",{className:"mx-auto"},"Rp. ",this.state.dataProduct[0].price)),c.a.createElement("div",{className:"row mt-3"},c.a.createElement("div",{className:"card p-2 mx-auto"},c.a.createElement("img",{src:"https://upload-system-api.herokuapp.com/"+this.state.selectedProduct.image_url,style:{height:"400px",width:"400px"},alt:""}))),c.a.createElement("div",{className:"row mt-4"},c.a.createElement("div",{className:"mx-auto"},c.a.createElement("input",{onClick:function(){return e.refs.editImage.click()},type:"button",className:"btn btn-primary mr-3",value:null===this.state.selectedImage?"edit Image":this.state.selectedImage,style:{width:"100px"}}),c.a.createElement("input",{onChange:this.onChangeInputImage,accept:"image/*",type:"file",ref:"editImage",style:{display:"none"}}),null===this.state.selectedImage?c.a.createElement("input",{onClick:function(){return e.deleteBtn(e.state.dataProduct[0].image_id)},type:"button",className:"btn btn-danger",value:"Delete",style:{width:"100px"}}):c.a.createElement("span",null,c.a.createElement("input",{type:"text",className:"btn btn-primary",value:"save"}),c.a.createElement("input",{onClick:function(){return e.setState({selectedImage:null})},type:"text",className:"btn btn-danger",value:"cancel"})))),c.a.createElement("div",{className:"row mt-5 mb-5"},this.renderListImage()))}}]),a}(n.Component),v=a(9),f=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={dataProduct:null},e.getAllProducts=function(){d.a.get("https://upload-system-api.herokuapp.com/product").then((function(t){console.log(t.dataProduct);var a,n=[];t.data.data.forEach((function(e){a=!1;for(var t=0;t<n.length;t++)if(e.product_id===n[t].product_id){a=!0;break}a||n.push(e)})),console.log(t.data.data),console.log(n),e.setState({dataProduct:n})})).catch((function(e){console.log(e)}))},e.printDataProduct=function(){return e.state.dataProduct.map((function(e){return c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"card mb-3",style:{maxWidth:"540px"}},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-md-4 pr-5"},c.a.createElement("img",{src:"https://upload-system-api.herokuapp.com/".concat(e.image_url),className:"",style:{height:"150px"},alt:"..."})),c.a.createElement("div",{className:"col-md-8 pl-5"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title mx-auto"},e.name),c.a.createElement("h5",{className:"card-title"},"Rp ",e.price),c.a.createElement("div",{className:"row"},c.a.createElement(v.b,{to:"product-detail/"+e.product_id},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"button",value:"Detail",className:"btn btn-success",style:{width:"100px"}}))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"buttin",value:"Delete",className:"btn btn-danger",style:{width:"100px"}}))))))))}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getAllProducts()}},{key:"render",value:function(){return null===this.state.dataProduct?c.a.createElement("h1",null,"Loading,....."):0===this.state.dataProduct?c.a.createElement("h1",null,"Data masih kosong"):c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row mt-5"},c.a.createElement("h3",{className:"mx-auto"},"ProductList")),c.a.createElement("div",{className:"row mt-5"},this.printDataProduct()))}}]),a}(n.Component),E=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={dataProduct:null},e.getDataProductFromIdImage=function(){var t=window.location.pathname.split("/")[2];d.a.get("https://upload-system-api.herokuapp.com/product/image/"+t).then((function(t){console.log(t.dataProduct.data),e.setState({dataProduct:t.dataProduct.data}),console.log(e.state.dataProduct),console.log(e.state.dataProduct[0].product_id)})).catch((function(e){console.log(e)}))},e.onSubmitClick=function(){var t=e.refs.images.files;console.log(t);var a=new FormData;a.append("product-image",t[0]),console.log(a);var n=window.location.pathname.split("/")[2];d.a.patch("https://upload-system-api.herokuapp.com/product/image/"+n,a).then((function(t){console.log(t.dataProduct),alert(t.dataProduct.message),e.refs.images.value=null})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDataProductFromIdImage()}},{key:"render",value:function(){return null===this.state.data?c.a.createElement("h1",null,"Loading ..."):c.a.createElement("div",{className:"container pt-5"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-4 card"},c.a.createElement("h5",{class:"card-title"},"Edit Image"),c.a.createElement("div",{className:"card-body"},c.a.createElement("input",{ref:"images",type:"file",className:"form-control mt-3",accept:"image/*"}),c.a.createElement("input",{type:"button",className:"btn btn-outline-primary mt-3",value:"submit",onClick:this.onSubmitClick})))))}}]),a}(c.a.Component),b=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row mt-5"},c.a.createElement("div",{className:"col-md-7 mx-auto"},c.a.createElement("h2",{className:"text-center"},"Selamat datang di aplikasi file upload"))))}}]),a}(n.Component),N=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",style:{height:"75px"}},c.a.createElement(v.b,{to:"/"},c.a.createElement("a",{className:"navbar-brand"},"Upload File Sistem"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{class:"navbar-toggler-icon"}))),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},c.a.createElement("ul",{className:"nav navbar-nav ml-auto"},c.a.createElement("li",{className:"nav-item mr-3"},c.a.createElement(v.b,{to:"/post-product"},c.a.createElement("a",{className:"nav-link",href:"#"},"Post Product",c.a.createElement("span",{class:"sr-only"},"(current)")))),c.a.createElement("li",{className:"nav-item mr-3"},c.a.createElement(v.b,{to:"/product-list"},c.a.createElement("a",{className:"nav-link",href:"#"},"Product List")))))))}}]),a}(n.Component),y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(N,null),c.a.createElement("div",null,c.a.createElement(h.a,{exact:!0,path:"/"},c.a.createElement(b,null)),c.a.createElement(h.a,{path:"/post-product"},c.a.createElement(p,null),">"),c.a.createElement(h.a,{path:"/product-detail"},c.a.createElement(g,null)),c.a.createElement(h.a,{path:"/product-list"},c.a.createElement(f,null)),c.a.createElement(h.a,{path:"/edit"},c.a.createElement(E,null))))}}]),a}(c.a.Component);a(58);r.a.render(c.a.createElement(v.a,null,c.a.createElement(y,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.9056ced3.chunk.js.map